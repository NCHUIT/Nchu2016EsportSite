<!DOCTYPE html>
<html lang="en">
    <head>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.1.6/semantic.min.css">
        <script src="http://code.jquery.com/jquery-2.1.4.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.1.6/semantic.min.js"></script>
        <link rel="shortcut icon" type="image/x-icon" href="img/LOGO.gif">
        <!-- <link rel="shortcut icon" href="http://lol.garena.tw/favicon.ico" type="image/x-icon"> -->
        <link rel="stylesheet" href="css/lol-join.css">
        <meta charset="UTF-8">
        <title>2016 唯一信癢Χ清流盃LOL大賽報名表</title>
        <style>
                                        .section {
                                            padding: 20px 0;
                                        }
                                        .space {
                                            height: 120px;
                                        }
        </style>
    </head>
    <body class="backgroundlol">
        <div class="ui container">
            <div class="ui stackable grid">
                <div class="ui teal inverted segment">
                    <h3 >2016唯一信癢Χ清流盃LOL大賽報名表</h3>
                </div>
            </div>
            <!-- action="https://script.google.com/macros/s/AKfycbw4LLPw1CZR8BiMxSO-Nz3FSVtTH2GmARQcDLWtYE2YKFzLD8A/exec" method="POST" -->
            <form id="myform" class="ui form">
                <div class="ui stackable grid">
                    <div class="eight wide column">
                        <div class="ui raised segment">
                            <div class="ui field">
                                <div class="ui left action input">
                                    <a class="ui button">隊伍名稱</a>
                                    <input type="text" name="team_name" value="">
                                </div>
                            </div>
                            <div class="ui field">
                                <div class="ui left action input">
                                    <a class="ui button">隊伍簡稱</a>
                                    <input type="text" name="team_short_name" placeholder="">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="ui stackable grid">
                    <!-- 1 -->
                    <div class="row">
                        <div class="eight wide column">
                            <div class="ui raised segment">
                                <a class="ui red ribbon label">1</a>
                                <span class="ui teal header">隊員1</span>
                                <div class="ui field">
                                    <div class="ui left action input">
                                        <a class="ui button">姓名</a>
                                        <input type="text" name="member1_name" placeholder="">
                                    </div>
                                </div>
                                <div class="ui field">
                                    <div class="ui left action input">
                                        <a class="ui button">學號</a>
                                        <input type="text" name="member1_Sid"  placeholder="">
                                    </div>
                                </div>
                                <div class="two fields">
                                    <div class="ui field depart-select"></div>
                                    <div class="ui field grade-select"></div>
                                </div>
                                <div class="ui field">
                                    <div class="ui left action input">
                                        <a class="ui button">手機</a>
                                        <input type="text" name="member1_Pnumber"  placeholder="">
                                    </div>
                                </div>
                                <div class="ui field">
                                    <div class="ui left action input">
                                        <a class="ui button">暱稱</a>
                                        <input type="text" name="member1_nick"  placeholder="請填遊戲暱稱">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 2 -->
                    <div class="row">
                        <div class="eight wide column">
                            <div class="ui raised segment">
                                <a class="ui red ribbon label">2</a>
                                <span class="ui teal header">隊員2</span>
                                <div class="ui field">
                                    <div class="ui left action input">
                                        <a class="ui button">姓名</a>
                                        <input type="text" name="member2_name" placeholder="">
                                    </div>
                                </div>
                                <div class="ui field">
                                    <div class="ui left action input">
                                        <a class="ui button">學號</a>
                                        <input type="text" name="member2_Sid"  placeholder="">
                                    </div>
                                </div>
                                <div class="two fields">
                                    <div class="ui field depart-select"></div>
                                    <div class="ui field grade-select"></div>
                                </div>
                                <div class="ui field">
                                    <div class="ui left action input">
                                        <a class="ui button">手機</a>
                                        <input type="text" name="member2_Pnumber"  placeholder="">
                                    </div>
                                </div>
                                <div class="ui field">
                                    <div class="ui left action input">
                                        <a class="ui button">暱稱</a>
                                        <input type="text" name="member2_nick"  placeholder="請填遊戲暱稱">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 3 -->
                    <div class="row">
                        <div class="eight wide column">
                            <div class="ui raised segment">
                                <a class="ui red ribbon label">3</a>
                                <span class="ui teal header">隊員3</span>
                                <div class="ui field">
                                    <div class="ui left action input">
                                        <a class="ui button">姓名</a>
                                        <input type="text" name="member3_name" placeholder="">
                                    </div>
                                </div>
                                <div class="ui field">
                                    <div class="ui left action input">
                                        <a class="ui button">學號</a>
                                        <input type="text" name="member3_Sid"  placeholder="">
                                    </div>
                                </div>
                                <div class="two fields">
                                    <div class="ui field depart-select"></div>
                                    <div class="ui field grade-select"></div>
                                </div>
                                <div class="ui field">
                                    <div class="ui left action input">
                                        <a class="ui button">手機</a>
                                        <input type="text" name="member3_Pnumber"  placeholder="">
                                    </div>
                                </div>
                                <div class="ui field">
                                    <div class="ui left action input">
                                        <a class="ui button">暱稱</a>
                                        <input type="text" name="member3_nick"  placeholder="請填遊戲暱稱">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 4 -->
                    <div class="row">
                        <div class="eight wide column">
                            <div class="ui raised segment">
                                <a class="ui red ribbon label">4</a>
                                <span class="ui teal header">隊員4</span>
                                <div class="ui field">
                                    <div class="ui left action input">
                                        <a class="ui button">姓名</a>
                                        <input type="text" name="member4_name" placeholder="">
                                    </div>
                                </div>
                                <div class="ui field">
                                    <div class="ui left action input">
                                        <a class="ui button">學號</a>
                                        <input type="text" name="member4_Sid"  placeholder="">
                                    </div>
                                </div>
                                <div class="two fields">
                                    <div class="ui field depart-select"></div>
                                    <div class="ui field grade-select"></div>
                                </div>
                                <div class="ui field">
                                    <div class="ui left action input">
                                        <a class="ui button">手機</a>
                                        <input type="text" name="member4_Pnumber"  placeholder="">
                                    </div>
                                </div>
                                <div class="ui field">
                                    <div class="ui left action input">
                                        <a class="ui button">暱稱</a>
                                        <input type="text" name="member4_nick"  placeholder="請填遊戲暱稱">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 5 -->
                    <div class="row">
                        <div class="eight wide column">
                            <div class="ui raised segment">
                                <a class="ui red ribbon label">5</a>
                                <span class="ui teal header">隊員5</span>
                                <div class="ui field">
                                    <div class="ui left action input">
                                        <a class="ui button">姓名</a>
                                        <input type="text" name="member5_name" placeholder="">
                                    </div>
                                </div>
                                <div class="ui field">
                                    <div class="ui left action input">
                                        <a class="ui button">學號</a>
                                        <input type="text" name="member5_Sid"  placeholder="">
                                    </div>
                                </div>
                                <div class="two fields">
                                    <div class="ui field depart-select"></div>
                                    <div class="ui field grade-select"></div>
                                </div>
                                <div class="ui field">
                                    <div class="ui left action input">
                                        <a class="ui button">手機</a>
                                        <input type="text" name="member5_Pnumber"  placeholder="">
                                    </div>
                                </div>
                                <div class="ui field">
                                    <div class="ui left action input">
                                        <a class="ui button">暱稱</a>
                                        <input type="text" name="member5_nick"  placeholder="請填遊戲暱稱">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 6 -->
                    <div class="row">
                        <div class="eight wide column">
                            <div class="ui raised segment" >
                                <a class="ui red ribbon label">6</a>
                                <span class="ui teal header " >隊員6</span>
                                <div class="ui field">
                                    <div class="ui left action input 6">
                                        <a class="ui button">姓名</a>
                                        <input type="text" name="member6_name" placeholder="" data-title="小提醒！" data-content="隊員六為候補隊員哦＾＾" data-variation="large" class="">
                                    </div>
                                </div>
                                <div class="ui field">
                                    <div class="ui left action input" >
                                        <a class="ui button">學號</a>
                                        <input type="text" name="member6_Sid"  placeholder="" >
                                    </div>
                                </div>
                                <div class="two fields">
                                    <div class="ui field depart-select"></div>
                                    <div class="ui field grade-select"></div>
                                </div>
                                <div class="ui field">
                                    <div class="ui left action input">
                                        <a class="ui button">手機</a>
                                        <input type="text" name="member6_Pnumber"  placeholder="">
                                    </div>
                                </div>
                                <div class="ui field">
                                    <div class="ui left action input">
                                        <a class="ui button">暱稱</a>
                                        <input type="text" name="member6_nick"  placeholder="請填遊戲暱稱">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <br>
                <div id="lolSubmit" class="submit button" style="width: 162px;">我填完了</div>
                <div class="ui error message"></div>
            </form>
        </div>
        <div class="ui inverted vertical footer segment">
            <div class="ui center aligned container">
                <img src="http://i.imgur.com/WZsKt8x.png?1" class="ui centered mini image">
                <div class="ui inverted section divider"><a class="nchuit" href="http://nchuit.cc/">NCHU IT</a>
                </div>
                <div class="ui horizontal inverted small divided link list">
                    <a class="item" href="http://semantic-ui.com/examples/sticky.html#">00001</a>
                    <a class="item" href="http://semantic-ui.com/examples/sticky.html#">00002</a>
                    <a class="item" href="http://semantic-ui.com/examples/sticky.html#">00003</a>
                    <a class="item" href="http://semantic-ui.com/examples/sticky.html#">00004</a>
                </div>
            </div>
        </div>
    </form>
    <div class="ui modal">
        <i class="close icon"></i>
        <div class="header">
            非常感謝您
        </div>
        <div class="image content">
            <div class="ui medium image">
                <img src="http://i.imgur.com/lpoQvxr.jpg">
            </div>
            <div class="description">
                <div class="ui header">Thank you!</div>
                <p>我們已經收到您的回覆.</p>
                <p>接下來您需要做的是多多練習喔！</p>
                <p>祝福您得冠軍呦>.<</p>
            </div>
        </div>
        <div class="actions">
            <a href="https://nchuit.hackpad.com/1119-Ajax-GooqXzkRWn1" class="ui positive right labeled icon button">
            填寫另一份報名表
            <i class="repeat icon"></i>
            </a>
            <a href="https://nchuit.hackpad.com/1119-Ajax-GooqXzkRWn1" class="ui positive right labeled icon button">
            回競賽首頁
            <i class="home icon"></i>
            </a>
        </div>
    </div>
    <div style="display: none;">
        <select class="ui search fluid selection dropdown" id="depart-tmpl">
            <option value="">請選擇系所</option>
            <option value="文學院">文學院</option>
            <option value="管理學院">管理學院</option>
            <option value="農業暨自然資源學院">農業暨自然資源學院</option>
            <option value="中國文學系學士班">中國文學系學士班</option>
            <option value="外國語文學系學士班">外國語文學系學士班</option>
            <option value="歷史學系學士班">歷史學系學士班</option>
            <option value="財務金融學系學士班">財務金融學系學士班</option>
            <option value="企業管理學系學士班">企業管理學系學士班</option>
            <option value="法律學系學士班">法律學系學士班</option>
            <option value="會計學系學士班">會計學系學士班</option>
            <option value="資訊管理學系學士班">資訊管理學系學士班</option>
            <option value="景觀與遊憩學士學位學程">景觀與遊憩學士學位學程</option>
            <option value="生物科技學士學位學程">生物科技學士學位學程</option>
            <option value="國際農企業學士學位學程">國際農企業學士學位學程</option>
            <option value="農藝學系學士班">農藝學系學士班</option>
            <option value="園藝學系學士班">園藝學系學士班</option>
            <option value="森林學系林學組學士班">森林學系林學組學士班</option>
            <option value="森林學系木材科學組學士班">森林學系木材科學組學士班</option>
            <option value="應用經濟學系學士班">應用經濟學系學士班</option>
            <option value="植物病理學系學士班">植物病理學系學士班</option>
            <option value="昆蟲學系學士班">昆蟲學系學士班</option>
            <option value="動物科學系學士班">動物科學系學士班</option>
            <option value="獸醫學系學士班A">獸醫學系學士班A</option>
            <option value="獸醫學系學士班B">獸醫學系學士班B</option>
            <option value="土壤環境科學系學士班">土壤環境科學系學士班</option>
            <option value="生物產業機電工程學系學士班">生物產業機電工程學系學士班</option>
            <option value="水土保持學系學士班">水土保持學系學士班</option>
            <option value="食品暨應用生物科技學系學士班">食品暨應用生物科技學系學士班</option>
            <option value="行銷學系學士班">行銷學系學士班</option>
            <option value="化學系學士班">化學系學士班</option>
            <option value="生命科學系學士班">生命科學系學士班</option>
            <option value="應用數學系學士班">應用數學系學士班 A</option>
            <option value="應用數學系學士班B">應用數學系學士班B</option>
            <option value="物理學系一般物理組學士班">物理學系一般物理組學士班</option>
            <option value="物理學系光電物理組學士班">物理學系光電物理組學士班</option>
            <option value="資訊科學與工程學系學士班">資訊科學與工程學系學士班</option>
            <option value="學士後太陽能光電系統應用學士學位學程">學士後太陽能光電系統應用學士學位學程</option>
            <option value="機械工程學系學士班A">機械工程學系學士班A</option>
            <option value="機械工程學系學士班B">機械工程學系學士班B</option>
            <option value="土木工程學系學士班 A">土木工程學系學士班A</option>
            <option value="土木工程學系學士班 B">土木工程學系學士班B</option>
            <option value="環境工程學系學士班">環境工程學系學士班</option>
            <option value="電機工程學系學士班 A">電機工程學系學士班A</option>
            <option value="電機工程學系學士班 B">電機工程學系學士班B</option>
            <option value="化學工程學系學士班">化學工程學系學士班</option>
            <option value="材料科學與工程學系學士班">材料科學與工程學系學士班</option>
        </select>
        <select class="ui search fluid selection dropdown" id="grade-tmpl">
            <option value="">Grade</option>
            <option value="1">一年級</option>
            <option value="2">二年級</option>
            <option value="3">三年級</option>
            <option value="4">四年級</option>
            <option value="5">五年級</option>
        </select>
    </div>
    <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.1.6/semantic.min.js"></script>
    <script>
            jQuery(document).ready(function($) {
                // fill up select and semantic dropdown init
                var depart_tmpl = $('#depart-tmpl');
                $('.depart-select').each(function(i,e){
                    depart_tmpl.clone().removeAttr('id').attr('name','member' + (i + 1) + "_dep").appendTo($(e));
                });
                var grade_tmpl = $('#grade-tmpl');
                $('.grade-select').each(function(i,e){
                    grade_tmpl.clone().removeAttr('id').attr('name','member' + ( i + 1 ) + "_grade").appendTo($(e));
                });
                $('select').dropdown({
                                allowAdditions: true,
                                message: {
                                    addResult : '其他<b>{term}</b>',
                                    },
                                });
                
                // form field rule
                var player_rule_fields = {
                    team_name: {
                        identifier: 'team_name',
                        rules: [
                            {
                                type   : 'empty',
                                prompt : 'Please enter your 隊伍名稱'
                            }
                        ]
                        },
                    team_short_name: {
                        identifier: 'team_short_name',
                        rules: [
                            {
                                type   : 'empty',
                                prompt : 'Please enter your 隊伍簡稱'
                            }
                        ]
                        },
                        };
                for (var i = 1; i <= 5; i++) {
                    player_rule_fields['member' + i + '_name'] = {
                        identifier: 'member' + i +'_name',
                        rules: [
                            {
                                type   : 'empty',
                                prompt : 'Please enter your 隊員' + i +'姓名',
                            }
                        ]
                        };
                    player_rule_fields['member' + i + '_Sid'] = {
                        identifier: 'member' + i +'_Sid',
                        rules: [
                            {
                                type   : 'empty',
                                prompt : 'Please enter your 隊員' + i +'學號',
                            }
                        ]
                        };
                    player_rule_fields['member' + i + '_Pnumber'] = {
                        identifier: 'member' + i +'_Pnumber',
                        rules: [
                            {
                                type   : 'empty',
                                prompt : 'Please enter your 隊員' + i +'手機',
                            }
                        ]
                        };
                    player_rule_fields['member' + i + '_nick'] = {
                        identifier: 'member' + i +'_nick',
                        rules: [
                            {
                                type   : 'empty',
                                prompt : 'Please enter your 隊員' + i +'暱稱',
                            }
                        ]
                        };
                    player_rule_fields['member' + i + '_dep'] = {
                        identifier: 'member' + i +'_dep',
                        rules: [
                            {
                                type   : 'empty',
                                prompt : 'Please select your 隊員' + i +'系所',
                            }
                        ]
                        };
                    player_rule_fields['member' + i + '_grade'] = {
                        identifier: 'member' + i +'_grade',
                        rules: [
                            {
                                type   : 'empty',
                                prompt : 'Please select your 隊員' + i +'年級',
                            }
                        ]
                        };
                }
                
                $('#myform').form({
                    fields: player_rule_fields
                });
                // submit
                jQuery('#myform').submit(function(event){
                    event.preventDefault();//防止做預設的動作
                    var members = [];
                    for (var i = 1; i <= 6; i++) {
                        members.push({
                            name: jQuery("input[name=member" + i +"_name]").val(),
                            dep: jQuery("select[name=member" + i +"_dep]").val(),
                            grade: jQuery("select[name=member" + i +"_grade]").val(),
                            sid: jQuery("input[name=member" + i +"_Sid]").val(),
                            pnumber: jQuery("input[name=member" + i +"_Pnumber]").val(),
                            nick: jQuery("input[name=member" + i +"_nick]").val()
                        });
                    }
                    var inputData = {
                        team_name: jQuery("input[name=team_name").val(),
                        team_short: jQuery("input[name=team_short_name").val(),
                        members: members
                    };
                    // var inputData = jQuery(this).form('get value');
                    console.log(inputData);
                    // return false;
                    var api = "https://script.google.com/macros/s/AKfycbw4LLPw1CZR8BiMxSO-Nz3FSVtTH2GmARQcDLWtYE2YKFzLD8A/exec";
                    $.post(api, {data: JSON.stringify(inputData)}, function(response){
                        console.log(response);
                    }, "json");
                    return false;//多重防止
                });
            });
                // showReminder
                $('ui.left.action.input.6').popup({
                        // position : 'top left',
                        // target   : 'ui.left.action.input.6',
                        // title    : '小提醒！',
                        // content  : '隊員六為候補隊員哦＾＾',
                        // size     : 'large'
                        on: 'focus'
                });
                $('#lolSubmit').submit(function(){
                        $('.ui.modal').modal('show');
                });
                //  form control
                
    </script>
</div>
</div>
</body>
</html>